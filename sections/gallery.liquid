<div class="gallery">
	{% for block in section.blocks %}
		<div class="image-wrap" style="background-image: url('{{ block.settings.image | image_url: width: 500 }}');"">
		</div>
	{% endfor %}
</div>

{% schema %}
	{
		"name": "Gallery",
		"settings": [
			{
				"type": "select",
				"id": "per-row",
				"label": "Images per row",
				"options": [
					{
						"value": "50%",
						"label": "2 per row"
					},
					{
						"value": "33%",
						"label": "3 per row"
					},
					{
						"value": "25%",
						"label": "4 per row"
					},
					{
						"value": "20%",
						"label": "5 per row"
					}
				],
				"default": "33%"
			}
		],
		"blocks": [
			{
				"name": "Image Block",
				"type": "image",
				"settings": [
					{
						"type": "image_picker",
						"id": "image",
						"label": "Image"
					}
				]
			}
		],
		"presets": [
			{
				"name": "Gallery"
			}
		]
	}
{% endschema %}

{% style %}
	.image-wrap {
		display: inline-block;
		width: 33%;
		height: 500px;
    background-size: cover;
		background-position: center;
	}
{% endstyle %}
